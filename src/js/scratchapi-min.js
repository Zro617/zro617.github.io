function _(r,u,a,s,f){var x=new XMLHttpRequest();x.open(r,u,a);if(a)x.responseType="document";x.onload=function(){if(x.status==200)s(x.response);else f(x.response);};x.send();}var api={p:"https://",h:"scratch.mit.edu",d:{p:"projects.scratch.mit.edu",s:"staging.scratch.mit.edu",c:"cdn.scratch.mit.edu"},l:{u:"/users/",p:"/projects/",f:"/favorites/",s:"/studios/",sf:"/studios_following/",fg:"/following/",fs:"/followers/",au:"/api/v1/user/",ap:"/api/v1/project/"},csrf:function(){return document.cookie.match(/scratchcsrftoken=([A-Za-z0-9]+)/)[1];},_pi:function(d,a){for(var _=d.querySelectorAll("span.title"),i=0;i<_.length;i++)a.push(_[i].getElementsByTagName("a")[0].href.match(/\d+/)[0]);},_pn:function(d,a){for(var _=d.querySelectorAll("span.title"),i=0;i<_.length;i++)a.push(_[i].getElementsByTagName("a")[0].innerHTML.trim());},_gp:function(u,p,a,c,e){_("GET",u+"?page="+p,!0,function(d){c(d,a);api._gp(u,p+1,a,c,e);},e);},checkUser:function(u,c){_("GET",api.p+api.h+api.l.u+u+"/",!0,function(d){c(!0)},function(d){c(!1)});},getProjectNames:function(u,c){var p=[];api._gp(api.p+api.h+api.l.u+u+api.l.p,1,p,api._pn,function(d){c(p)});},getFavoriteProjectNames:function(u,c){var p=[];api._gp(api.p+api.h+api.l.u+u+api.l.f,1,p,api._pn,function(d){c(p)});},getStudioCuratingNames:function(u,c){var s=[];api._gp(api.p+api.h+api.l.u+u+api.l.s,1,s,api._pn,function(d){c(s)});},getStudioFollowingNames:function(u,c){var s=[];api._gp(api.p+api.h+api.l.u+u+api.l.sf,1,s,api._pn,function(d){c(s)});},getFollowerNames:function(u,c){var fs=[];api._gp(api.p+api.h+api.l.u+u+api.l.fs,1,fs,api._pn,function(d){c(fs)});},getFollowingNames:function(u,c){var fg=[];api._gp(api.p+api.h+api.l.u+u+api.l.fg,1,fg,api._pn,function(d){c(fg)});},getProjectIds:function(u,c){var p=[];api._gp(api.p+api.h+api.l.u+u+api.l.p,1,p,api._pi,function(d){c(p)});},getFavoriteIds:function(u,c){var p=[];api._gp(api.p+api.h+api.l.u+u+api.l.f,1,p,api._pi,function(){c(p)});},getStudioCuratingIds:function(u,c) {var s=[];api._gp(api.p+api.h+api.l.u+u+api.l.s,1,s,api._pi,function(){c(s)});},getStudioFollowingIds:function(u,c){var s=[];api._gp(api.p+api.h+api.l.u+u+api.l.sf,1,s,api._pi,function(){c(s)});},getProjectStudioIds:function(p,c){var s=[];api._gp(api.p+api.h+api.l.p+p+api.l.s,1,s,api._pi,function(){c(s)});},getUserProperties:function(u,c){_("GET",api.p+api.h+api.l.au+u+"/",!0,function(d){c(JSON.parse(d.body.firstChild.innerHTML));},function(d){c(null);});},getProjectProperties:function(p,c){_("GET",api.p+api.h+api.l.ap+p+"/",!0,function(d){c(JSON.parse(dom.body.firstChild.innerHTML));},function(d){c(null);});},getStudioProperties:function(s,c){_("GET",api.p+api.h+api.l.s+s+"/",!0,function(d){c({title:d.querySelector("h2").innerHTML,thumbnail:d.querySelector("div.img-container").firstChild.href,last_updated:d.querySelector("span.date").innerHTML,description:d.querySelector("div.overview")});},function(d){c(null);});}};
